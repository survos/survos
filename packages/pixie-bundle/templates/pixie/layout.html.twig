{% extends 'base.html.twig' %}

{% block title %}Pixie {{  pixieCode }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/survospixie/style.css') }}" ></link>
{% endblock %}

{% block page_header %}

{#    at a minimum: https://getbootstrap.com/docs/5.0/components/navbar/#}
    {% set currentTablename = tableName|default(false) %}

    NAVIGATION:

    Pixie List <a href="{{ path('pixie_browse_configs') }}">{{ 'all'|trans }}</a>
     /
    {% if pixieCode|default(false) %}
        <a href="{{ path('pixie_overview', {pixieCode: pixieCode}) }}">
            Pixie {{ pixieCode }}
        </a>

        |
        @todo: make this a dropdown?
        {% if kv|default(false) %}
            {% for table in kv.tableNames %}
                {# @rk: this is just to show how which is the active table #}
                <span class="{{ table == currentTablename ? 'bg-info' }}">
                <a href="{{ path('pixie_browse', {tableName: table, pixieCode: pixieCode}) }}">
                    {{ table }}
                </a>
                </span>
            {% endfor %}
        {% endif %}
    {% endif %}

    {# redundant, as this is also above.   #}
    {% if currentTablename %}
        <span class="float-end">
            <a href="{{ path('pixie_table', {pixieCode: pixieCode, tableName: tableName}) }}">{{ tableName }}</a>
        </span>
    {% endif %}

{% endblock %}


{% block body %}


{% endblock %}
