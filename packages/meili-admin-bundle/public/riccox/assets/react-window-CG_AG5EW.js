import{m as et,_ as rt,k as D}from"./@babel-4gviZBr6.js";import{m as P}from"./memoize-one-CcMeOnPo.js";import{r as R}from"./react-DLE0P_Nq.js";var it=typeof performance=="object"&&typeof performance.now=="function",$=it?function(){return performance.now()}:function(){return Date.now()};function U(s){cancelAnimationFrame(s.id)}function at(s,e){var r=$();function i(){$()-r>=e?s.call(null):o.id=requestAnimationFrame(i)}var o={id:requestAnimationFrame(i)};return o}var L=-1;function q(s){if(s===void 0&&(s=!1),L===-1||s){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(e),L=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return L}var _=null;function H(s){if(s===void 0&&(s=!1),_===null||s){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var i=document.createElement("div"),o=i.style;return o.width="100px",o.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?_="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?_="negative":_="positive-ascending"),document.body.removeChild(e),_}return _}var nt=150,ot=function(e,r){return e};function K(s){var e,r=s.getItemOffset,i=s.getEstimatedTotalSize,o=s.getItemSize,d=s.getOffsetForIndexAndAlignment,c=s.getStartIndexForOffset,f=s.getStopIndexForStartIndex,z=s.initInstanceProps,M=s.shouldResetStyleCacheOnItemSizeChange,p=s.validateProps;return e=function(x){et(y,x);function y(v){var t;return t=x.call(this,v)||this,t._instanceProps=z(t.props,D(t)),t._outerRef=void 0,t._resetIsScrollingTimeoutId=null,t.state={instance:D(t),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof t.props.initialScrollOffset=="number"?t.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},t._callOnItemsRendered=void 0,t._callOnItemsRendered=P(function(a,n,l,m){return t.props.onItemsRendered({overscanStartIndex:a,overscanStopIndex:n,visibleStartIndex:l,visibleStopIndex:m})}),t._callOnScroll=void 0,t._callOnScroll=P(function(a,n,l){return t.props.onScroll({scrollDirection:a,scrollOffset:n,scrollUpdateWasRequested:l})}),t._getItemStyle=void 0,t._getItemStyle=function(a){var n=t.props,l=n.direction,m=n.itemSize,S=n.layout,u=t._getItemStyleCache(M&&m,M&&S,M&&l),h;if(u.hasOwnProperty(a))h=u[a];else{var g=r(t.props,a,t._instanceProps),C=o(t.props,a,t._instanceProps),T=l==="horizontal"||S==="horizontal",b=l==="rtl",E=T?g:0;u[a]=h={position:"absolute",left:b?void 0:E,right:b?E:void 0,top:T?0:g,height:T?"100%":C,width:T?C:"100%"}}return h},t._getItemStyleCache=void 0,t._getItemStyleCache=P(function(a,n,l){return{}}),t._onScrollHorizontal=function(a){var n=a.currentTarget,l=n.clientWidth,m=n.scrollLeft,S=n.scrollWidth;t.setState(function(u){if(u.scrollOffset===m)return null;var h=t.props.direction,g=m;if(h==="rtl")switch(H()){case"negative":g=-m;break;case"positive-descending":g=S-l-m;break}return g=Math.max(0,Math.min(g,S-l)),{isScrolling:!0,scrollDirection:u.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._onScrollVertical=function(a){var n=a.currentTarget,l=n.clientHeight,m=n.scrollHeight,S=n.scrollTop;t.setState(function(u){if(u.scrollOffset===S)return null;var h=Math.max(0,Math.min(S,m-l));return{isScrolling:!0,scrollDirection:u.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._outerRefSetter=function(a){var n=t.props.outerRef;t._outerRef=a,typeof n=="function"?n(a):n!=null&&typeof n=="object"&&n.hasOwnProperty("current")&&(n.current=a)},t._resetIsScrollingDebounced=function(){t._resetIsScrollingTimeoutId!==null&&U(t._resetIsScrollingTimeoutId),t._resetIsScrollingTimeoutId=at(t._resetIsScrolling,nt)},t._resetIsScrolling=function(){t._resetIsScrollingTimeoutId=null,t.setState({isScrolling:!1},function(){t._getItemStyleCache(-1,null)})},t}y.getDerivedStateFromProps=function(t,a){return st(t,a),p(t),null};var I=y.prototype;return I.scrollTo=function(t){t=Math.max(0,t),this.setState(function(a){return a.scrollOffset===t?null:{scrollDirection:a.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(t,a){a===void 0&&(a="auto");var n=this.props,l=n.itemCount,m=n.layout,S=this.state.scrollOffset;t=Math.max(0,Math.min(t,l-1));var u=0;if(this._outerRef){var h=this._outerRef;m==="vertical"?u=h.scrollWidth>h.clientWidth?q():0:u=h.scrollHeight>h.clientHeight?q():0}this.scrollTo(d(this.props,t,a,S,this._instanceProps,u))},I.componentDidMount=function(){var t=this.props,a=t.direction,n=t.initialScrollOffset,l=t.layout;if(typeof n=="number"&&this._outerRef!=null){var m=this._outerRef;a==="horizontal"||l==="horizontal"?m.scrollLeft=n:m.scrollTop=n}this._callPropsCallbacks()},I.componentDidUpdate=function(){var t=this.props,a=t.direction,n=t.layout,l=this.state,m=l.scrollOffset,S=l.scrollUpdateWasRequested;if(S&&this._outerRef!=null){var u=this._outerRef;if(a==="horizontal"||n==="horizontal")if(a==="rtl")switch(H()){case"negative":u.scrollLeft=-m;break;case"positive-ascending":u.scrollLeft=m;break;default:var h=u.clientWidth,g=u.scrollWidth;u.scrollLeft=g-h-m;break}else u.scrollLeft=m;else u.scrollTop=m}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&U(this._resetIsScrollingTimeoutId)},I.render=function(){var t=this.props,a=t.children,n=t.className,l=t.direction,m=t.height,S=t.innerRef,u=t.innerElementType,h=t.innerTagName,g=t.itemCount,C=t.itemData,T=t.itemKey,b=T===void 0?ot:T,E=t.layout,j=t.outerElementType,G=t.outerTagName,Z=t.style,J=t.useIsScrolling,Q=t.width,W=this.state.isScrolling,F=l==="horizontal"||E==="horizontal",X=F?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),Y=A[0],tt=A[1],N=[];if(g>0)for(var w=Y;w<=tt;w++)N.push(R.createElement(a,{data:C,key:b(w,C),index:w,isScrolling:J?W:void 0,style:this._getItemStyle(w)}));var k=i(this.props,this._instanceProps);return R.createElement(j||G||"div",{className:n,onScroll:X,ref:this._outerRefSetter,style:rt({position:"relative",height:m,width:Q,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:l},Z)},R.createElement(u||h||"div",{children:N,ref:S,style:{height:F?"100%":k,pointerEvents:W?"none":void 0,width:F?k:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var t=this.props.itemCount;if(t>0){var a=this._getRangeToRender(),n=a[0],l=a[1],m=a[2],S=a[3];this._callOnItemsRendered(n,l,m,S)}}if(typeof this.props.onScroll=="function"){var u=this.state,h=u.scrollDirection,g=u.scrollOffset,C=u.scrollUpdateWasRequested;this._callOnScroll(h,g,C)}},I._getRangeToRender=function(){var t=this.props,a=t.itemCount,n=t.overscanCount,l=this.state,m=l.isScrolling,S=l.scrollDirection,u=l.scrollOffset;if(a===0)return[0,0,0,0];var h=c(this.props,u,this._instanceProps),g=f(this.props,h,u,this._instanceProps),C=!m||S==="backward"?Math.max(1,n):1,T=!m||S==="forward"?Math.max(1,n):1;return[Math.max(0,h-C),Math.max(0,Math.min(a-1,g+T)),h,g]},y}(R.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var st=function(e,r){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,r.instance},lt=50,O=function(e,r,i){var o=e,d=o.itemSize,c=i.itemMetadataMap,f=i.lastMeasuredIndex;if(r>f){var z=0;if(f>=0){var M=c[f];z=M.offset+M.size}for(var p=f+1;p<=r;p++){var x=d(p);c[p]={offset:z,size:x},z+=x}i.lastMeasuredIndex=r}return c[r]},ct=function(e,r,i){var o=r.itemMetadataMap,d=r.lastMeasuredIndex,c=d>0?o[d].offset:0;return c>=i?B(e,r,d,0,i):ut(e,r,Math.max(0,d),i)},B=function(e,r,i,o,d){for(;o<=i;){var c=o+Math.floor((i-o)/2),f=O(e,c,r).offset;if(f===d)return c;f<d?o=c+1:f>d&&(i=c-1)}return o>0?o-1:0},ut=function(e,r,i,o){for(var d=e.itemCount,c=1;i<d&&O(e,i,r).offset<o;)i+=c,c*=2;return B(e,r,Math.min(i,d-1),Math.floor(i/2),o)},V=function(e,r){var i=e.itemCount,o=r.itemMetadataMap,d=r.estimatedItemSize,c=r.lastMeasuredIndex,f=0;if(c>=i&&(c=i-1),c>=0){var z=o[c];f=z.offset+z.size}var M=i-c-1,p=M*d;return f+p},ht=K({getItemOffset:function(e,r,i){return O(e,r,i).offset},getItemSize:function(e,r,i){return i.itemMetadataMap[r].size},getEstimatedTotalSize:V,getOffsetForIndexAndAlignment:function(e,r,i,o,d,c){var f=e.direction,z=e.height,M=e.layout,p=e.width,x=f==="horizontal"||M==="horizontal",y=x?p:z,I=O(e,r,d),v=V(e,d),t=Math.max(0,Math.min(v-y,I.offset)),a=Math.max(0,I.offset-y+I.size+c);switch(i==="smart"&&(o>=a-y&&o<=t+y?i="auto":i="center"),i){case"start":return t;case"end":return a;case"center":return Math.round(a+(t-a)/2);case"auto":default:return o>=a&&o<=t?o:o<a?a:t}},getStartIndexForOffset:function(e,r,i){return ct(e,i,r)},getStopIndexForStartIndex:function(e,r,i,o){for(var d=e.direction,c=e.height,f=e.itemCount,z=e.layout,M=e.width,p=d==="horizontal"||z==="horizontal",x=p?M:c,y=O(e,r,o),I=i+x,v=y.offset+y.size,t=r;t<f-1&&v<I;)t++,v+=O(e,t,o).size;return t},initInstanceProps:function(e,r){var i=e,o=i.estimatedItemSize,d={itemMetadataMap:{},estimatedItemSize:o||lt,lastMeasuredIndex:-1};return r.resetAfterIndex=function(c,f){f===void 0&&(f=!0),d.lastMeasuredIndex=Math.min(d.lastMeasuredIndex,c-1),r._getItemStyleCache(-1),f&&r.forceUpdate()},d},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),vt=K({getItemOffset:function(e,r){var i=e.itemSize;return r*i},getItemSize:function(e,r){var i=e.itemSize;return i},getEstimatedTotalSize:function(e){var r=e.itemCount,i=e.itemSize;return i*r},getOffsetForIndexAndAlignment:function(e,r,i,o,d,c){var f=e.direction,z=e.height,M=e.itemCount,p=e.itemSize,x=e.layout,y=e.width,I=f==="horizontal"||x==="horizontal",v=I?y:z,t=Math.max(0,M*p-v),a=Math.min(t,r*p),n=Math.max(0,r*p-v+p+c);switch(i==="smart"&&(o>=n-v&&o<=a+v?i="auto":i="center"),i){case"start":return a;case"end":return n;case"center":{var l=Math.round(n+(a-n)/2);return l<Math.ceil(v/2)?0:l>t+Math.floor(v/2)?t:l}case"auto":default:return o>=n&&o<=a?o:o<n?n:a}},getStartIndexForOffset:function(e,r){var i=e.itemCount,o=e.itemSize;return Math.max(0,Math.min(i-1,Math.floor(r/o)))},getStopIndexForStartIndex:function(e,r,i){var o=e.direction,d=e.height,c=e.itemCount,f=e.itemSize,z=e.layout,M=e.width,p=o==="horizontal"||z==="horizontal",x=r*f,y=p?M:d,I=Math.ceil((y+i-x)/f);return Math.max(0,Math.min(c-1,r+I-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});export{vt as F,ht as V};
