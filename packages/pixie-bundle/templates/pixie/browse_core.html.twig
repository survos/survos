{% extends '@SurvosPixie/tabler/base.html.twig' %}
{% block title %}{{ pixieCode }} / {{ core.coreCode }}{% endblock %}

{% block body %}
<div class="page-header d-print-none">
  <div class="container-xl d-flex justify-content-between align-items-center">
    <h2 class="page-title">Core: <code>{{ core.coreCode }}</code></h2>
    <a class="btn btn-outline-secondary" href="{{ path('pixie_dashboard', {pixieCode: pixieCode}) }}">Back</a>
  </div>
</div>

<div class="page-body">
  <div class="container-xl">
    <div class="card">
      <div class="card-header"><h3 class="card-title">Rows (first 50)</h3></div>
      <div class="table-responsive">
        <table class="table table-sm card-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Label</th>
              <th>Data (excerpt)</th>
            </tr>
          </thead>
          <tbody>
          {% for r in rows %}
            <tr>
              <td class="text-muted">{{ r.idWithinCore }}</td>
              <td>{{ r.label ?? '—' }}</td>
              <td><code>{{ r.data|json_encode(constant('JSON_UNESCAPED_UNICODE'))|slice(0,120) }}…</code></td>
            </tr>
          {% else %}
            <tr><td colspan="3" class="text-muted">No rows.</td></tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
